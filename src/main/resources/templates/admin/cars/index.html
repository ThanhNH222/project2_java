<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω xe</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
        body {
            background: #0f172a; /* dark mode */
            color: #fff;
            font-family: "Segoe UI", sans-serif;
        }
        .sidebar {
            width: 220px;
            min-height: 100vh;
            background: #1e293b;
            position: fixed;
            left: 0;
            top: 0;
            padding: 20px;
        }
        .sidebar a {
            display: block;
            padding: 12px;
            margin-bottom: 8px;
            text-decoration: none;
            color: #cbd5e1;
            border-radius: 8px;
        }
        .sidebar a:hover,
        .sidebar a.active {
            background: #334155;
            color: #fff;
        }
        .content {
            margin-left: 240px;
            padding: 24px;
        }
        .card-dark {
            background: #1e293b;
            border: none;
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.3);
            color: #fff;
        }
        .btn-soft {
            border-radius: 8px;
        }
        .table-dark th {
            background: #334155;
        }
        .table-dark td, .table-dark th {
            color: #fff;
            vertical-align: middle;
        }
        .table-dark tbody tr:hover {
            background: #475569;
        }
    </style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <h4 class="text-white mb-4">üöó Car Rental</h4>
    <a href="/admin" >üìä Dashboard</a>
    <a href="/admin/cars" class="active">üöò Qu·∫£n l√Ω xe</a>
    <a href="/admin/customers">üë• Kh√°ch h√†ng</a>
    <a href="/admin/rentals">üîë Thu√™ xe</a>
</div>

<!-- Content -->
<div class="content">
    <div class="card card-dark p-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h3 class="m-0">üöó Danh s√°ch xe</h3>
            <div>
                <a th:href="@{/admin/cars}" class="btn btn-secondary btn-soft me-2">‚¨Ö Quay l·∫°i</a>
                <a class="btn btn-success btn-soft" th:href="@{/admin/cars/create}">+ Th√™m xe m·ªõi</a>
            </div>
        </div>

        <!-- Flash message -->
        <div th:if="${success}" class="alert alert-success rounded-3" th:text="${success}"></div>
        <div th:if="${error}" class="alert alert-danger rounded-3" th:text="${error}"></div>

        <!-- Search -->
        <form class="row mb-4" method="get" th:action="@{/admin/cars}">
            <div class="col-md-4">
                <input type="text" class="form-control rounded-3" name="q" placeholder="üîç T√¨m ki·∫øm..."
                       th:value="${param.q}">
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-primary btn-soft w-100">T√¨m</button>
            </div>
        </form>

        <!-- Table -->
        <div class="table-responsive">
            <table class="table table-dark table-hover align-middle">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>·∫¢nh</th>
                    <th>T√™n xe</th>
                    <th>Bi·ªÉn s·ªë</th>
                    <th>S·ªë gh·∫ø</th>
                    <th class="text-center">H√†nh ƒë·ªông</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="car : ${cars}">
                    <td th:text="${car.id}"></td>
                    <td>
                        <img th:src="@{${car.imageUrl}}" alt="Car Image" style="width:100px; height:auto; border-radius:8px;">
                    </td>
                    <td th:text="${car.name}"></td>
                    <td th:text="${car.licensePlate}"></td>
                    <td th:text="${car.seatNumber}"></td>
                    <td class="text-center">
                        <a th:href="@{'/admin/cars/' + ${car.id} + '/edit'}"
                           class="btn btn-warning btn-sm btn-soft me-2">‚úèÔ∏è S·ª≠a</a>
                        <form th:action="@{'/admin/cars/' + ${car.id} + '/delete'}"
                              method="post" style="display:inline">
                            <button type="submit" class="btn btn-danger btn-sm btn-soft"
                                    onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a xe n√†y kh√¥ng?')">üóë X√≥a</button>
                        </form>
                    </td>
                </tr>
                <tr th:if="${#lists.isEmpty(cars)}">
                    <td colspan="6" class="text-center text-muted">Kh√¥ng c√≥ xe n√†o</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>
