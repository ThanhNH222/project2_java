<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Quáº£n lÃ½ khÃ¡ch hÃ ng</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/admin.css}">

</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <h4 class="text-white mb-4">ğŸš— Car Rental</h4>
    <a href="/admin">ğŸ“Š Dashboard</a>
    <a href="/admin/cars">ğŸš˜ Cars</a>
    <a href="/admin/orders" class="active">ğŸ‘¥ Rental Order</a>
</div>

<!-- Content -->
<div class="content">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="m-0">ğŸ‘¥ Rental Orders</h2>
    </div>

    <!-- ThÃ´ng bÃ¡o -->
    <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <!-- Bá»™ lá»c & tÃ¬m kiáº¿m -->
    <form th:action="@{/admin/orders}" method="get" class="row g-2 mb-3">
        <div class="col-md-4">
            <input type="text" name="keyword" class="form-control"
                   placeholder="ğŸ” TÃ¬m theo tÃªn hoáº·c email" th:value="${keyword}">
        </div>
        <div class="col-md-3">
            <select name="status" class="form-select" th:value="${status}">
                <option value="">-- Táº¥t cáº£ tráº¡ng thÃ¡i --</option>
                <option value="ACTIVE">Äang thuÃª</option>
                <option value="INACTIVE">ÄÃ£ hoÃ n táº¥t thuÃª</option>
            </select>
        </div>
        <div class="col-md-2">
            <button type="submit" class="btn btn-primary w-100">Lá»c</button>
        </div>
    </form>

    <!-- Báº£ng Ä‘Æ¡n thuÃª -->
    <div class="card-dark">
        <h5 class="card-title">Danh sÃ¡ch Ä‘Æ¡n thuÃª</h5>
        <div class="table-responsive">
            <table class="table table-hover align-middle mt-3 text-white">
                <thead class="table-dark">
                <tr>
                    <th>STT</th>
                    <th>KhÃ¡ch hÃ ng</th>
                    <th>Sá»‘ Ä‘iá»‡n thoáº¡i</th>
                    <th>Email</th>
                    <th>Xe thuÃª</th>
                    <th>Thá»i gian giao xe</th>
                    <th>Äá»‹a chá»‰ giao xe</th>
                    <th>Thá»i gian tráº£ xe</th>
                    <th>Äá»‹a chá»‰ tráº£ xe</th>
                    <th>Chi tiáº¿t</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order, stt : ${orders}">
                    <td th:text="${stt.index + 1}"></td>
                    <td th:text="${order.customerName}"></td>
                    <td th:text="${order.customerPhone}"></td>
                    <td th:text="${order.customerEmail}"></td>
                    <td th:text="${order.car.name}"></td>
                    <td th:text="${order.pickupDateTime}"></td>
                    <td th:text="${order.pickupLocation}"></td>
                    <td th:text="${order.dropoffDateTime}"></td>
                    <td th:text="${order.returnLocation}"></td>
                    <td>
                        <a th:href="@{'/admin/orders/detail/' + ${order.id}}" class="btn btn-sm btn-primary">
                            Details
                        </a>

                    </td>
                    <td th:text="${order.status != null ? order.status : 'â€”'}"></td>

                </tr>

                <tr th:if="${#lists.isEmpty(orders)}">
                    <td colspan="11" class="text-center text-muted">KhÃ´ng cÃ³ Ä‘Æ¡n thuÃª nÃ o</td>
                </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>
